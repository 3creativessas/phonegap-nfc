<project name="PhoneGap NFC Plugin" default="demo" basedir=".">
    <description>

    </description>
  <!-- set global properties for this build -->
  <property name="src.dir" location="src"/>
  <property name="build.dir" location="target"/>
  
  <!-- The default.properties file is created and updated by the 'android' tool, as well
       as ADT.
       This file is an integral part of the build system for your application and
       should be checked in in Version Control Systems. -->
  <property file="reader-demo/default.properties" />
  <property file="build.properties" />
  
  <target name="compile" description="build a new version of phonegap-nfc.jar" >
      <mkdir dir="${build.dir}"/>
      <delete includeemptydirs="true">
        <fileset dir="${build.dir}" includes="**/*"/>
      </delete>
      <javac srcdir="${src.dir}" destdir="${build.dir}" debug="on" source="1.6" includeantruntime="false">
        <classpath>
            <path location="${sdk.dir}/platforms/${target}/android.jar"/>
            <path location="${phonegap}"/>
        </classpath>
      </javac>      
  </target>
  
  <target name="jar" depends="compile" description=" bundle phonegap-nfc">
      <jar destfile="phonegap-nfc.jar"
             basedir="${build.dir}"
        />
  </target>
  
  
  <target name="demo" depends="clean, jar" description="copy phonegap-nfc jars and js files to the appropriate location" >
      <copy file="phonegap-nfc.js" todir="reader-demo/assets/www/"/>
      <copy file="phonegap-nfc.jar" todir="reader-demo/libs"/>
  </target>

  <target name="clean" description="clean up" >
      <delete file="reader-demo/assets/www/phonegap-nfc.js"/>
      <delete file="reader-demo/libs/phonegap-nfc.jar"/>
  </target>
</project>